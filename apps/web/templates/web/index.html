{% extends 'web/base.html' %}
{% load static %}
{% block title %}
Index
{% endblock %}

{% block body %}
<div class="hero">
  <div class="hero-slide">
    <div class="img overlay" style="background-image: url('{% static 'web/images/hero_bg_3.jpg' %}')"></div>
    <div class="img overlay" style="background-image: url('{% static 'web/images/hero_bg_2.jpg' %}')"></div>
    <div class="img overlay" style="background-image: url('{% static 'web/images/hero_bg_1.jpg' %}')"></div>
  </div>

  <div class="container">
    <div class="row justify-content-center align-items-center">
      <div class="col-lg-9 text-center">
        <h1 class="heading" data-aos="fade-up">
          Easiest way to find your dream home
        </h1>
        <form action="{% url 'properties' %}" method="get" class="form-search d-flex align-items-stretch mb-3">
          <input type="text" name="q" class="form-control px-4" placeholder="Search city, ZIP, type..."
            value="{{ request.GET.q }}">
          <button type="submit" class="btn btn-primary">Search</button>
        </form>

      </div>
    </div>
  </div>
</div>

<div class="section">
  <div class="container">
    <div class="row mb-5 align-items-center">
      <div class="col-lg-6">
        <h2 class="font-weight-bold text-primary heading">
          Popular Properties
        </h2>
      </div>
      <div class="col-lg-6 text-lg-end">
        <p>
          <a href="#" target="_blank" class="btn btn-primary text-white py-3 px-4">View all properties</a>
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-12">
        <div class="property-slider-wrap">
          <div class="property-slider">
            {% for prop in properties %}
            <div class="property-item">
              <a href="" class="img">
                {% if prop.images.first %}
                <img src="{{ prop.images.first.image.url }}" alt="{{ prop.title }}" class="img-fluid" />
                {% else %}
                <img src="{% static 'web/images/default-property.jpg' %}" alt="Default Image" class="img-fluid" />
                {% endif %}
              </a>

              <div class="property-content">
                <div class="price mb-2">
                  <span>â‚¹{{ prop.rent_amount }}</span>
                </div>

                <div>
                  {% if prop.address %}
                  <span class="d-block mb-2 text-black-50">
                    {{ prop.address.street }}, {{ prop.address.pincode }}
                  </span>
                  <span class="city d-block mb-3">{{ prop.address.city }}, {{ prop.address.state }}</span>
                  {% else %}
                  <span class="d-block text-muted mb-2">No address provided</span>
                  {% endif %}

                  <div class="specs d-flex mb-4">
                    <span class="d-block d-flex align-items-center me-3">
                      <span class="icon-bed me-2"></span>
                      <span class="caption">{{ prop.bedrooms }} beds</span>
                    </span>
                    <span class="d-block d-flex align-items-center">
                      <span class="icon-bath me-2"></span>
                      <span class="caption">{{ prop.bathrooms }} baths</span>
                    </span>
                  </div>

                  <a href="" class="btn btn-primary py-2 px-3">
                    See details
                  </a>
                </div>
              </div>
            </div>
            {% endfor %}

          </div>

          <div id="property-nav" class="controls" tabindex="0" aria-label="Carousel Navigation">
            <span class="prev" data-controls="prev" aria-controls="property" tabindex="-1">Prev</span>
            <span class="next" data-controls="next" aria-controls="property" tabindex="-1">Next</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<section class="features-1">
  <div class="container">
    <div class="section bg-light">
      <div class="container">
        <div class="text-center mb-5">
          <h2 class="section-title">Our Services</h2>
          <p class="text-muted">We offer a wide range of real estate solutions for both owners and tenants.</p>
        </div>
        <div class="row">

          <div class="col-6 col-lg-3" data-aos="fade-up" data-aos-delay="100">
            <div class="box-feature mb-4 text-center">
              <i class="fas fa-list fs-1 text-primary mb-3"></i>
              <h5 class="text-black mb-3 font-weight-bold">Property Listing</h5>
              <p class="text-black-50">List your property for rent or sale and reach thousands of users.</p>
              <p><a href="{% url 'owner_property' %}" class="learn-more">Get Started</a></p>
            </div>
          </div>

          <div class="col-6 col-lg-3" data-aos="fade-up" data-aos-delay="200">
            <div class="box-feature mb-4 text-center">
              <i class="fas fa-user-tie fs-1 text-primary mb-3"></i>
              <h5 class="text-black mb-3 font-weight-bold">Verified Agents</h5>
              <p class="text-black-50">Work with trusted real estate experts to guide you in every step.</p>
              <p><a href="#" class="learn-more">Read more</a></p>
            </div>
          </div>

          <div class="col-6 col-lg-3" data-aos="fade-up" data-aos-delay="300">
            <div class="box-feature mb-4 text-center">
              <i class="fas fa-warehouse fs-1 text-primary mb-3"></i>
              <h5 class="text-black mb-3 font-weight-bold">Property Management</h5>
              <p class="text-black-50">We handle rent, maintenance, and tenant interactions for you.</p>
              <p><a href="#" class="learn-more">Read more</a></p>
            </div>
          </div>

          <div class="col-6 col-lg-3" data-aos="fade-up" data-aos-delay="400">
            <div class="box-feature mb-4 text-center">
              <i class="fas fa-house-user fs-1 text-primary mb-3"></i>
              <h5 class="text-black mb-3 font-weight-bold">Affordable Rentals</h5>
              <p class="text-black-50">Browse from a wide range of verified and affordable rental listings.</p>
              <p><a href="{% url 'properties' %}" class="learn-more">Explore</a></p>
            </div>
          </div>

          <div class="col-6 col-lg-3" data-aos="fade-up" data-aos-delay="500">
            <div class="box-feature mb-4 text-center">
              <i class="fas fa-chart-line fs-1 text-primary mb-3"></i>
              <h5 class="text-black mb-3 font-weight-bold">Rental Insights</h5>
              <p class="text-black-50">Get analytics and trends to make informed rental decisions.</p>
              <p><a href="#" class="learn-more">Read more</a></p>
            </div>
          </div>

          <div class="col-6 col-lg-3" data-aos="fade-up" data-aos-delay="600">
            <div class="box-feature mb-4 text-center">
              <i class="fas fa-bolt fs-1 text-primary mb-3"></i>
              <h5 class="text-black mb-3 font-weight-bold">Instant Booking</h5>
              <p class="text-black-50">Book property visits or rentals in just a few clicks.</p>
              <p><a href="#" class="learn-more">Book Now</a></p>
            </div>
          </div>

          <div class="col-6 col-lg-3" data-aos="fade-up" data-aos-delay="700">
            <div class="box-feature mb-4 text-center">
              <i class="fas fa-lock fs-1 text-primary mb-3"></i>
              <h5 class="text-black mb-3 font-weight-bold">Secure Payments</h5>
              <p class="text-black-50">Pay rent or deposits securely through our integrated gateway.</p>
              <p><a href="#" class="learn-more">Learn more</a></p>
            </div>
          </div>

          <div class="col-6 col-lg-3" data-aos="fade-up" data-aos-delay="800">
            <div class="box-feature mb-4 text-center">
              <i class="fas fa-headset fs-1 text-primary mb-3"></i>
              <h5 class="text-black mb-3 font-weight-bold">24/7 Support</h5>
              <p class="text-black-50">Our team is always here to assist you with queries or issues.</p>
              <p><a href="{% url 'contact' %}" class="learn-more">Contact Us</a></p>
            </div>
          </div>

        </div>
      </div>
    </div>

  </div>
</section>



<div class="section section-4 bg-light">
  <div class="container">
    <div class="row justify-content-center text-center mb-5">
      <div class="col-lg-5">
        <h2 class="font-weight-bold heading text-primary mb-4">
          Let's find home that's perfect for you
        </h2>
        <p class="text-black-50">
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Numquam
          enim pariatur similique debitis vel nisi qui reprehenderit.
        </p>
      </div>
    </div>
    <div class="row justify-content-between mb-5">
      <div class="col-lg-7 mb-5 mb-lg-0 order-lg-2">
        <div class="img-about dots">
          <img src="{% static 'web/images/hero_bg_3.jpg' %}" alt="Image" class="img-fluid" />
        </div>
      </div>
      <div class="col-lg-4">
        <div class="d-flex feature-h">
          <span class="wrap-icon me-3">
            <span class="icon-home2"></span>
          </span>
          <div class="feature-text">
            <h3 class="heading">2M Properties</h3>
            <p class="text-black-50">
              Lorem ipsum dolor sit amet consectetur adipisicing elit.
              Nostrum iste.
            </p>
          </div>
        </div>

        <div class="d-flex feature-h">
          <span class="wrap-icon me-3">
            <span class="icon-person"></span>
          </span>
          <div class="feature-text">
            <h3 class="heading">Top Rated Agents</h3>
            <p class="text-black-50">
              Lorem ipsum dolor sit amet consectetur adipisicing elit.
              Nostrum iste.
            </p>
          </div>
        </div>

        <div class="d-flex feature-h">
          <span class="wrap-icon me-3">
            <span class="icon-security"></span>
          </span>
          <div class="feature-text">
            <h3 class="heading">Legit Properties</h3>
            <p class="text-black-50">
              Lorem ipsum dolor sit amet consectetur adipisicing elit.
              Nostrum iste.
            </p>
          </div>
        </div>
      </div>
    </div>
    <div class="row section-counter mt-5">
      <div class="col-6 col-sm-6 col-md-6 col-lg-3" data-aos="fade-up" data-aos-delay="300">
        <div class="counter-wrap mb-5 mb-lg-0">
          <span class="number"><span class="countup text-primary">{{ total_properties }}</span></span>
          <span class="caption text-black-50"># of Properties</span>
        </div>
      </div>
      <div class="col-6 col-sm-6 col-md-6 col-lg-3" data-aos="fade-up" data-aos-delay="400">
        <div class="counter-wrap mb-5 mb-lg-0">
          <span class="number"><span class="countup text-primary">{{ tenant_count }}</span></span>
          <span class="caption text-black-50"># of Tenants</span>
        </div>
      </div>
      <div class="col-6 col-sm-6 col-md-6 col-lg-3" data-aos="fade-up" data-aos-delay="500">
        <div class="counter-wrap mb-5 mb-lg-0">
          <span class="number"><span class="countup text-primary">{{ owner_count }}</span></span>
          <span class="caption text-black-50"># of Owners</span>
        </div>
      </div>
      <div class="col-6 col-sm-6 col-md-6 col-lg-3" data-aos="fade-up" data-aos-delay="600">
        <div class="counter-wrap mb-5 mb-lg-0">
          <span class="number"><span class="countup text-primary">{{ unique_city_count }}</span></span>
          <span class="caption text-black-50"># of Cities</span>
        </div>
      </div>
    </div>

  </div>
</div>

<div class="section bg-light">
  <div class="row justify-content-center footer-cta" data-aos="fade-up">
    <div class="col-lg-10 mx-auto text-center">
      <h2 class="mb-4">Join Our Platform â€“ Whether You're a Property Owner or Real Estate Agent</h2>
      <p class="lead mb-4">Grow your business, list properties, or help clients find their dream homes.</p>

      <div class="d-flex justify-content-center gap-3 flex-wrap">
        <a href="{% url 'register' %}" class="btn btn-primary text-white py-3 px-4">
          Join Us
        </a>
      </div>
    </div>
  </div>
</div>

{% endblock %}